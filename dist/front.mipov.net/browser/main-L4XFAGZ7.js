import{a as h,b as g}from"./chunk-FTTFQVNT.js";import{a as Q,b as q,e as ee,f as te,h as ne,i as C,j as w,k as b,l as oe,m as ie}from"./chunk-Q6DRLPQ6.js";import"./chunk-74JUVWB4.js";import{b as $,c as J,d as K}from"./chunk-CRV3CNVD.js";import{Aa as F,Ab as X,Ba as N,Ca as O,Ea as U,Fa as j,Ib as Y,Jb as Z,K as x,N as D,Na as A,P as R,Pa as B,Qa as v,Ra as a,Sa as s,Ta as m,V as c,Wa as V,Xa as d,Z as y,aa as T,cb as H,db as p,fa as I,ga as L,hb as k,ib as z,jb as G,kb as W,ra as M,ya as u,z as S}from"./chunk-FEPXA7XF.js";var _=(t,e)=>{let n=c(C);return c(h).get("accessToken")?!0:(n.navigateByUrl("/"),!1)};var P=(t,e)=>{let n=c(C);return c(h).get("accessToken")?(n.navigateByUrl("/profile"),!1):!0};var re=[{path:"",loadComponent:()=>import("./chunk-LCRJ74MH.js").then(t=>t.SignUpPageComponent),title:"Share your social accounts profiles with mipov.net",canActivate:[P]},{path:"login",loadComponent:()=>import("./chunk-NVIF4X4W.js").then(t=>t.LoginPageComponent),title:"Login to mipov.net",canActivate:[P]},{path:"error",loadComponent:()=>import("./chunk-PEANBTQL.js").then(t=>t.ErrorPageComponent),title:"Error"},{path:"privacy-policy",loadComponent:()=>import("./chunk-6UQVFTL3.js").then(t=>t.PrivacyPolicyPageComponent),title:"Privacy policy"},{path:"help",loadComponent:()=>import("./chunk-LDEISMA4.js").then(t=>t.HelpPageComponent),title:"Help - mipov.net"},{path:"profile",loadComponent:()=>import("./chunk-BZAKY6GM.js").then(t=>t.ProfilePageComponent),title:"Privacy policy",canActivate:[_]},{path:"links",loadComponent:()=>import("./chunk-N5CW7NTH.js").then(t=>t.LinksPageComponent),title:"Links",canActivate:[_]},{path:":userName",loadComponent:()=>import("./chunk-GU5W5VWY.js").then(t=>t.PublicPageComponent),title:"Links"}];var ge="@",fe=(()=>{let e=class e{constructor(i,o,r,l,f){this.doc=i,this.delegate=o,this.zone=r,this.animationType=l,this.moduleImpl=f,this._rendererFactoryPromise=null,this.scheduler=c(N,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-HLPUESHP.js").then(o=>o)).catch(o=>{throw new D(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:r})=>{this._engine=o(this.animationType,this.doc);let l=new r(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(i,o){let r=this.delegate.createRenderer(i,o);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let l=new E(r);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(f=>{let he=f.createRenderer(i,o);l.use(he),this.scheduler?.notify(9)}).catch(f=>{l.use(r)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(o){F()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),E=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,i,o){this.delegate.insertBefore(e,n,i,o)}removeChild(e,n,i){this.delegate.removeChild(e,n,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,o){this.delegate.setAttribute(e,n,i,o)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,o){this.delegate.setStyle(e,n,i,o)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){this.shouldReplay(n)&&this.replay.push(o=>o.setProperty(e,n,i)),this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.shouldReplay(n)&&this.replay.push(o=>o.listen(e,n,i)),this.delegate.listen(e,n,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(ge)}};function se(t="animations"){return U("NgAsyncAnimations"),T([{provide:O,useFactory:(e,n,i)=>new fe(e,n,i,t),deps:[X,Q,j]},{provide:M,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var le=(t,e)=>e(t.clone({withCredentials:!0}));var ce=(t,e)=>{console.log("access token");let i=c(h).get("accessToken"),o=t.clone({headers:t.headers.set("authorization",i)});return e(o||t)};var pe=(t,e)=>{console.log("refresh token");let n=c(g);return e(t).pipe(S(i=>{if(i.status===401)return n.refreshToken().pipe(x(({accessToken:o})=>{let r=t.clone({headers:t.headers.set("authorization",o)});return e(r)}),S(o=>{throw o}));throw i}))};var me={providers:[$(J([le,ce,pe]),K()),oe(re),te(ee({includePostRequests:!0})),se()]};var de=(()=>{let e=class e{constructor(){this.authenticationService=c(g),this.toggle=!1}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=y({type:e,selectors:[["app-user-menu-dropdown"]],standalone:!0,features:[k],decls:16,vars:4,consts:[[1,"dropdown","d-flex","flex-column"],["type","button",1,"btn","text-start","text-lg-center","align-self-stretch","btn-sm","btn-primary","dropdown-toggle",3,"click"],[1,"dropdown-menu","dropdown-menu-end",2,"right","0","top","100%",3,"click"],["routerLinkActive","fw-bold","routerLink","/profile",1,"dropdown-item"],["routerLinkActive","fw-bold","routerLink","/links",1,"dropdown-item"],[1,"dropdown-divider"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"position-fixed","bg-red","w-100","h-100",2,"z-index","1","left","0","top","0",3,"click"]],template:function(o,r){o&1&&(a(0,"div",0)(1,"button",1),d("click",function(){return r.toggle=!r.toggle}),p(2," \u2699\uFE0F User "),s(),a(3,"ul",2),d("click",function(){return r.toggle=!r.toggle}),a(4,"li")(5,"a",3),p(6,"\u{1F464} Profile"),s()(),a(7,"li")(8,"a",4),p(9,"\u{1F517} Links"),s()(),a(10,"li"),m(11,"hr",5),s(),a(12,"li")(13,"div",6),d("click",function(){return r.authenticationService.logOut()}),p(14,"\u{1F6AA} Sign out"),s()()()(),a(15,"div",7),d("click",function(){return r.toggle=!r.toggle}),s()),o&2&&(u(3),v("show",r.toggle),u(12),v("d-none",!r.toggle))},dependencies:[w,b]});let t=e;return t})();function ve(t,e){t&1&&(a(0,"ul",17)(1,"li",18),m(2,"app-user-menu-dropdown"),s()())}function ye(t,e){t&1&&(a(0,"a",19),p(1,"Log in"),s(),a(2,"a",20),p(3,"Sign up"),s())}var ue=(()=>{let e=class e{constructor(){this.authenticationService=c(g),this.show=!1}ngOnInit(){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=y({type:e,selectors:[["app-root"]],standalone:!0,features:[k],decls:29,vars:6,consts:[["signUpButton",""],[1,"navbar","navbar-expand-lg","bg-light"],[1,"container"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center","mb-0","h1"],["src","/assets/logo.svg","width","30px","alt","mipovnet logo",1,"me-2"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],["routerLinkActive","active","routerLink","/help",1,"nav-link"],["routerLinkActive","active","routerLink","/privacy-policy",1,"nav-link"],["class","navbar-nav",4,"ngIf","ngIfElse"],[1,"content"],[1,"bg-body-tertiary","py-3"],[1,"text-center"],["target","_blank","href","https://github.com/valeri879"],[1,"navbar-nav"],[1,"nav-item","dropdown"],["routerLink","/login",1,"btn","d-block","w-md-auto","btn-sm","btn-primary","mb-2","mb-lg-0"],["routerLink","/",1,"btn","btn-sm","d-block","btn-outline-success","ms-0","ms-lg-2"]],template:function(o,r){if(o&1){let l=V();a(0,"header")(1,"nav",1)(2,"div",2)(3,"a",3),m(4,"img",4),a(5,"b"),p(6,"mipov.net"),s()(),a(7,"button",5),d("click",function(){return I(l),L(r.show=!r.show)}),m(8,"span",6),s(),a(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),p(13,"Help"),s()(),a(14,"li",9)(15,"a",11),p(16,"Privacy policy"),s()()(),A(17,ve,3,0,"ul",12),z(18,"async"),A(19,ye,4,0,"ng-template",null,0,W),s()()()(),a(21,"div",13),m(22,"router-outlet"),s(),a(23,"footer",14)(24,"div",15),p(25,"Created by "),a(26,"a",16),p(27,"Val Do"),s(),p(28," with \u2764\uFE0F"),s()()}if(o&2){let l=H(20);u(9),v("show",r.show),u(8),B("ngIf",G(18,4,r.authenticationService.isLoggedIn$))("ngIfElse",l)}},dependencies:[ne,de,ie,w,b,Y,Z],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.content[_ngcontent-%COMP%]{flex:1}"]});let t=e;return t})();q(ue,me).catch(t=>console.error(t));
